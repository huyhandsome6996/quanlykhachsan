{% extends "base.html" %}

{% block title %}Trang ch·ªß - Spring View Garden SaPa{% endblock %}
{% block page_title %}Trang ch·ªß / B·∫£ng ƒëi·ªÅu khi·ªÉn{% endblock %}

{% block content %}

<!-- KH·ªêI CH√ÄO M·ª™NG -->
<div class="card shadow-sm mb-4 border-0"
     style="background: linear-gradient(135deg,#1f5f43,#2f8f68); color:white;">
  <div class="card-body py-4">
    <h4 class="fw-bold mb-1">
      Xin ch√†o {{ user.username }} üëã
    </h4>
    <p class="mb-0 opacity-75">
      Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi h·ªá th·ªëng qu·∫£n l√Ω kh√°ch s·∫°n Spring View Garden SaPa
    </p>
  </div>
</div>

<!-- TH·ªêNG K√ä NHANH -->
<div class="row g-3 mb-4">
  <div class="col-md-6">
    <div class="card shadow-sm h-100">
      <div class="card-body text-center">
        <div class="text-muted mb-1">Ph√≤ng tr·ªëng</div>
        <div class="fs-1 fw-bold text-success">
          {{ so_phong_trong }}
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6">
    <div class="card shadow-sm h-100">
      <div class="card-body text-center">
        <div class="text-muted mb-1">Ph√≤ng ƒëang thu√™</div>
        <div class="fs-1 fw-bold text-danger">
          {{ so_phong_dang_thue }}
        </div>
      </div>
    </div>
  </div>
</div>

<!-- DANH S√ÅCH PH√íNG -->
<h3 class="mb-3">Danh s√°ch ph√≤ng</h3>

<div class="row g-3">
  {% for phong in danh_sach_phong %}
  <div class="col-md-3">
    <div class="card shadow-sm h-100">
      <div class="card-body d-flex flex-column">
        <h5 class="fw-bold">Ph√≤ng {{ phong.ma_phong }}</h5>
        <p class="text-muted mb-2">{{ phong.loai_phong.ten_loai }}</p>

        <!--th√™m n√∫t xem chi ti·∫øt ph√≤ng-->
        <div class="mt-auto">
          <a
            href="{% url 'khach_san:chi_tiet_phong' phong.ma_phong %}"
            class="btn btn-primary btn-sm w-100"
          >
            Xem chi ti·∫øt
          </a>
        </div>

        <div class="mt-2">
          {% if phong.trang_thai == 'trong' %}
            <span class="badge bg-success">TR·ªêNG</span>
          {% elif phong.trang_thai == 'dang_thue' %}
            <span class="badge bg-danger">ƒêANG THU√ä</span>
          {% elif phong.trang_thai == 'dang_bao_tri' %}
            <span class="badge bg-warning text-dark">ƒêANG B·∫¢O TR√å</span>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
  {% empty %}
    <div class="col-12">
      <div class="alert alert-info">
        Ch∆∞a c√≥ ph√≤ng n√†o trong h·ªá th·ªëng.
      </div>
    </div>
  {% endfor %}
</div>

<!-- KH·ªêI H∆Ø·ªöNG D·∫™N / GHI CH√ö -->
<div class="card shadow-sm mt-5">
  <div class="card-body">
    <h5 class="fw-bold mb-2">
      üìå Ghi ch√∫ s·ª≠ d·ª•ng h·ªá th·ªëng
    </h5>
    <ul class="mb-0">
      <li>Ki·ªÉm tra tr·∫°ng th√°i ph√≤ng tr∆∞·ªõc khi t·∫°o ƒë·∫∑t ph√≤ng m·ªõi</li>
      <li>Ch·ªâ qu·∫£n tr·ªã vi√™n m·ªõi c√≥ quy·ªÅn qu·∫£n l√Ω b√°o c√°o & h·ªá th·ªëng</li>
      <li>D·ªØ li·ªáu ƒë∆∞·ª£c c·∫≠p nh·∫≠t theo th·ªùi gian th·ª±c</li>
    </ul>
  </div>
</div>

{% endblock %}
